## API Report File for "@well-known-components/pg-component"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { IBaseComponent } from '@well-known-components/interfaces';
import { IConfigComponent } from '@well-known-components/interfaces';
import { IDatabase } from '@well-known-components/interfaces';
import { ILoggerComponent } from '@well-known-components/interfaces';
import { IMetricsComponent as IMetricsComponent_2 } from '@well-known-components/interfaces';
import { Pool } from 'pg';
import { PoolConfig } from 'pg';
import QueryStream from 'pg-query-stream';
import { RunnerOption } from 'node-pg-migrate';
import { SQLStatement } from 'sql-template-strings';

// @public
export function createPgComponent(components: createPgComponent.NeededComponents, options?: Options): Promise<IPgComponent & IBaseComponent>;

// @public (undocumented)
export namespace createPgComponent {
    // (undocumented)
    export type NeededComponents = {
        logs: ILoggerComponent;
        config: IConfigComponent;
        metrics?: IMetricsComponent;
    };
}

// @public (undocumented)
export type IMetricsComponent = IMetricsComponent_2<keyof typeof metricDeclarations>;

// @public (undocumented)
export interface IPgComponent extends IDatabase {
    // @internal (undocumented)
    getPool(): Pool;
    // (undocumented)
    query<T extends Record<string, any>>(sql: string): Promise<IDatabase.IQueryResult<T>>;
    // (undocumented)
    query<T extends Record<string, any>>(sql: SQLStatement, durationQueryNameLabel?: string): Promise<IDatabase.IQueryResult<T>>;
    // (undocumented)
    start(): Promise<void>;
    // (undocumented)
    stop(): Promise<void>;
    // (undocumented)
    streamQuery<T = any>(sql: SQLStatement, config?: {
        batchSize?: number;
    }): AsyncGenerator<T>;
}

// @public (undocumented)
export namespace IPgComponent {
    // (undocumented)
    export type Composable = {
        pg: IPgComponent;
    };
}

// @public
export const metricDeclarations: IMetricsComponent_2.MetricsRecordDefinition<string>;

// @public (undocumented)
export type Options = Partial<{
    pool: PoolConfig;
    migration: RunnerOption;
}>;

// Warning: (ae-internal-missing-underscore) The name "QueryStreamWithCallback" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export type QueryStreamWithCallback = QueryStream & {
    callback: Function;
};

// (No @packageDocumentation comment for this package)

```
